{
  "version": 3,
  "sources": ["../reactivity/src/index.ts", "../reactivity/src/effect.ts", "../shared/src/index.ts", "../reactivity/src/reactive.ts"],
  "sourcesContent": ["export { effect } from './effect.js'\nexport { reactive } from './reactive.js'", "\nexport class ReactiveEffect {\n  public active = true\n  // constructor(public fn) {\n  //   this.fn = fn\n  // }\n  constructor(public fn) { }  // \u7B49\u4EF7\u4E0A\u9762\n\n  run () {\n    this.fn()\n  }\n}\n\nexport function effect (fn) {\n  // \u5C06\u7528\u6237\u4F20\u9012\u7684\u51FD\u6570\u53D8\u6210\u54CD\u5E94\u5F0F\u7684effect\n  const _effect = new ReactiveEffect(fn)\n  _effect.run()\n}", "export function isObject (value) {\n  return typeof value === 'object' && value !== null\n}\n", "import { isObject } from \"@vue/shared\";\n\nconst reactiveMap = new WeakMap() // key\u5FC5\u987B\u662F\u5BF9\u8C61\uFF0C\u5F31\u5F15\u7528\n\nconst enum ReflectFlags {\n  IS_REACTIVE = '__v_isReactive'\n}\n\nexport function reactive (target) {\n  if (!isObject(target)) {\n    return target\n  }\n\n  if (target[ReflectFlags.IS_REACTIVE]) { // 1.\u8FD9\u8FB9\u662F\u4E3A\u4E86\u9632\u6B62\u4E00\u4E2A\u4EE3\u7406\u5C5E\u6027\u88AB\u591A\u6B21\u4EE3\u7406\uFF0C\u5F53\u53C8\u88AB\u4EE3\u7406\u7684\u65F6\u5019\u8FD4\u56DE\u539F\u672C\u7684\u4EE3\u7406\u5BF9\u8C61\n    return target\n  }\n\n  const existing = reactiveMap.get(target)\n  if (existing) return existing\n\n  const proxy = new Proxy(target, {\n    get (target, key, reactive) {\n      if (key === ReflectFlags.IS_REACTIVE) { // 1.\u8FD9\u8FB9\u662F\u4E3A\u4E86\u9632\u6B62\u4E00\u4E2A\u4EE3\u7406\u5C5E\u6027\u88AB\u591A\u6B21\u4EE3\u7406\n        return true\n      }\n      // \u8FD9\u91CC\u53EF\u4EE5\u8BB0\u5F55\u8FD9\u4E2A\u5C5E\u6027\u4F7F\u7528\u4E86effect\n      return Reflect.get(target, key, reactive)\n    },\n    set (target, key, value, reactive) {\n      console.log('\u8FD9\u91CC\u53EF\u4EE5\u901A\u77E5effect\u6765\u6267\u884C');\n      Reflect.set(target, key, value, reactive)\n      return true\n    }\n  })\n  reactiveMap.set(target, proxy)\n  return proxy\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;;;ACCO,MAAM,iBAAN,MAAqB;AAAA,IAK1B,YAAmB,IAAI;AAAJ;AAJnB,WAAO,SAAS;AAAA,IAIS;AAAA,IAEzB,MAAO;AACL,WAAK,GAAG;AAAA,IACV;AAAA,EACF;AAEO,kBAAiB,IAAI;AAE1B,UAAM,UAAU,IAAI,eAAe,EAAE;AACrC,YAAQ,IAAI;AAAA,EACd;;;ACjBO,oBAAmB,OAAO;AAC/B,WAAO,OAAO,UAAU,YAAY,UAAU;AAAA,EAChD;;;ACAA,MAAM,cAAc,oBAAI,QAAQ;AAMzB,oBAAmB,QAAQ;AAChC,QAAI,CAAC,SAAS,MAAM,GAAG;AACrB,aAAO;AAAA,IACT;AAEA,QAAI,OAAO,qCAA2B;AACpC,aAAO;AAAA,IACT;AAEA,UAAM,WAAW,YAAY,IAAI,MAAM;AACvC,QAAI;AAAU,aAAO;AAErB,UAAM,QAAQ,IAAI,MAAM,QAAQ;AAAA,MAC9B,IAAK,SAAQ,KAAK,WAAU;AAC1B,YAAI,QAAQ,oCAA0B;AACpC,iBAAO;AAAA,QACT;AAEA,eAAO,QAAQ,IAAI,SAAQ,KAAK,SAAQ;AAAA,MAC1C;AAAA,MACA,IAAK,SAAQ,KAAK,OAAO,WAAU;AACjC,gBAAQ,IAAI,8DAAiB;AAC7B,gBAAQ,IAAI,SAAQ,KAAK,OAAO,SAAQ;AACxC,eAAO;AAAA,MACT;AAAA,IACF,CAAC;AACD,gBAAY,IAAI,QAAQ,KAAK;AAC7B,WAAO;AAAA,EACT;",
  "names": []
}
