{
  "version": 3,
  "sources": ["../src/nodeOps.ts", "../src/modules/patchAttr.ts", "../src/modules/patchClass.ts", "../src/modules/patchEvent.ts", "../src/modules/patchStyle.ts", "../src/patchProp.ts", "../src/index.ts"],
  "sourcesContent": ["// \u521B\u5EFA\u5143\u7D20\u8282\u70B9 \u521B\u5EFA\u6587\u672C\u8282\u70B9  \u8282\u70B9\u7684\u589E\u5220\u6539\u67E5 \u83B7\u53D6\u7236\u5B50\u5173\u7CFB\n\n\nexport const nodeOps = {\n  createElement (tagName) {\n    return document.createElement(tagName)\n  },\n  createTextNode (text) {\n    return document.createTextNode(text)\n  },\n  insert (element, container, anchor = null) {\n    container.insertBefore(element, anchor) // \u5982\u679Canchor\u662Fnull \u76F8\u5F53\u4E8EappendChild\n  },\n  remove (child) {\n    const parent = child.parentNode\n    if (parent) {\n      parent.removeChild(child)\n    }\n  },\n  querySelector (selectors) {\n    return document.querySelector(selectors)\n  },\n  parentNode (child) {\n    return child.parentNode\n  },\n  nextSibling (child) {\n    return child.nextSibling\n  },\n  setText (element, text) {\n    element.nodeValue = text // \u8FD9\u8FB9\u662F\u8BBE\u7F6E\u6587\u672C\u8282\u70B9\u7684\u5185\u5BB9\n  },\n  setElementText (element, text) {\n    element.textContent = text // \u8FD9\u8FB9\u662F\u8BBE\u7F6E\u5143\u7D20\u8282\u70B9\u7684\u5185\u5BB9 \u7C7B\u4F3CinnerHTML\n\n  }\n}\n", "export function patchAttr (el, key, nextValue) {\n  if (nextValue == null) {\n    el.removeAttribute(key)\n  } else {\n    el.setAttribute(key, nextValue)\n  }\n}", "export function patchClass (el, nextValue) {\n  if (nextValue === 'null') {\n    el.removeAttribute('class')\n  } else {\n    el.className = nextValue\n  }\n}\n", "\nfunction createInvoker (preValue) {\n  const invoker = (e) => { invoker.value(e) }\n  invoker.value = preValue // \u540E\u7EED\u53EA\u9700\u8981\u4FEE\u6539value\u7684\u5F15\u7528 \u5C31\u53EF\u4EE5\u8FBE\u5230\u8C03\u7528\u4E0D\u540C\u7684\u903B\u8F91\u4FDD\u8BC1\u81EA\u5DF1\u4E0D\u53D8\n  return invoker\n}\n\nexport function patchEvent (el, eventName, nextValue) {\n  // click ()=> fn1()   ->  ()=>fn2()  // \u56E0\u4E3A\u5982\u679C\u76F4\u63A5\u5378\u8F7D\u4E8B\u4EF6\u5F88\u6D88\u8017\u6027\u80FD\uFF0C\u6240\u4EE5\u8FD9\u4E2A\u9700\u8981\u4FDD\u7559\u539F\u672C\u7684\u4E8B\u4EF6\u5185\u5B58\u5730\u5740\u4E0D\u53D8 \u66F4\u6539\u4ED6\u8FD4\u56DE\u7684\u51FD\u6570\u5373\u53EF\n  const invokers = el._vei || (el._vei = {})\n  // vue event invoke\n\n  const existingInvoker = invokers[eventName]\n\n  if (existingInvoker && nextValue) { // \u8FDB\u884C\u6362\u7ED1\n    existingInvoker.value = nextValue\n  } else {\n    // \u4E0D\u5B58\u5728\u7F13\u5B58\u7684\u60C5\u51B5 addEventListener('click')\n    const eName = eventName.slice(2).toLowCase()\n    if (nextValue) {\n      const invoker = createInvoker(nextValue) // \u9ED8\u8BA4\u4F1A\u5C06\u7B2C\u4E00\u6B21\u7684\u51FD\u6570\u7ED1\u5B9A\u5230invoker\u7684\u51FD\u6570\u4E0A\n      invokers[eventName] = invoker // \u7F13\u5B58invoker\n      el.addEventListener(eName, invoker)\n    } else if (existingInvoker) {\n      // \u6CA1\u6709\u65B0\u7684\u503C\u4F46\u662F\u4E4B\u524D\u7ED1\u5B9A\u8FC7\uFF0C\u9700\u8981\u5220\u9664\u8001\u7684\n      el.removeEventListener(eName, existingInvoker)\n      invokers[eventName] = null // \u7F13\u5B58\u6E05\u7A7A\n    }\n  }\n}\n", "export function patchStyle (el, preValue, nextValue) {\n  // \u5BF9\u6BD4\u4E24\u4E2A\u5BF9\u8C61\n  const style = el.style\n  for (const key in nextValue) {\n    style[key] = nextValue[key];\n  }\n  if (preValue) {\n    for (const key in preValue) {\n      if (nextValue[key] === null) { // \u5982\u679C\u8001\u7684\u6709 \u65B0\u7684\u6CA1\u6709 \u5219\u9700\u8981\u5220\u9664\u8001\u7684\n        style[key] = null\n      }\n    }\n  }\n}\n", "// \u7ED9\u5C5E\u6027\u6253\u8865\u4E01\n\nimport { patchAttr } from \"./modules/patchAttr\"\nimport { patchClass } from \"./modules/patchClass\"\nimport { patchEvent } from \"./modules/patchEvent\"\nimport { patchStyle } from \"./modules/patchStyle\"\n\n// \u5904\u7406class \n// \u884C\u5185\u6837\u5F0F\n// \u4E8B\u4EF6\n// \u5176\u4ED6\u5C5E\u6027...\n\nexport const patchProp = (el, key, preValue, nextValue) => {\n  if (key === 'class') {\n    patchClass(el, nextValue)\n  } else if (key === 'style') {\n    patchStyle(el, preValue, nextValue)\n  } else if (/on[^a-z]/.test(key)) { // onClick onChange\n    patchEvent(el, key, nextValue)\n  } else {\n    //\u5176\u4ED6\n    patchAttr(el, key, nextValue)\n  }\n}\n\n", "import { nodeOps } from './nodeOps'\nimport { patchProp } from './patchProp'\n\nconst renderOptions = { patchProp, ...nodeOps }\n\nconsole.log(renderOptions);\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAGO,MAAM,UAAU;AAAA,IACrB,cAAe,SAAS;AACtB,aAAO,SAAS,cAAc,OAAO;AAAA,IACvC;AAAA,IACA,eAAgB,MAAM;AACpB,aAAO,SAAS,eAAe,IAAI;AAAA,IACrC;AAAA,IACA,OAAQ,SAAS,WAAW,SAAS,MAAM;AACzC,gBAAU,aAAa,SAAS,MAAM;AAAA,IACxC;AAAA,IACA,OAAQ,OAAO;AACb,YAAM,SAAS,MAAM;AACrB,UAAI,QAAQ;AACV,eAAO,YAAY,KAAK;AAAA,MAC1B;AAAA,IACF;AAAA,IACA,cAAe,WAAW;AACxB,aAAO,SAAS,cAAc,SAAS;AAAA,IACzC;AAAA,IACA,WAAY,OAAO;AACjB,aAAO,MAAM;AAAA,IACf;AAAA,IACA,YAAa,OAAO;AAClB,aAAO,MAAM;AAAA,IACf;AAAA,IACA,QAAS,SAAS,MAAM;AACtB,cAAQ,YAAY;AAAA,IACtB;AAAA,IACA,eAAgB,SAAS,MAAM;AAC7B,cAAQ,cAAc;AAAA,IAExB;AAAA,EACF;;;ACnCO,qBAAoB,IAAI,KAAK,WAAW;AAC7C,QAAI,aAAa,MAAM;AACrB,SAAG,gBAAgB,GAAG;AAAA,IACxB,OAAO;AACL,SAAG,aAAa,KAAK,SAAS;AAAA,IAChC;AAAA,EACF;;;ACNO,sBAAqB,IAAI,WAAW;AACzC,QAAI,cAAc,QAAQ;AACxB,SAAG,gBAAgB,OAAO;AAAA,IAC5B,OAAO;AACL,SAAG,YAAY;AAAA,IACjB;AAAA,EACF;;;ACLA,yBAAwB,UAAU;AAChC,UAAM,UAAU,CAAC,MAAM;AAAE,cAAQ,MAAM,CAAC;AAAA,IAAE;AAC1C,YAAQ,QAAQ;AAChB,WAAO;AAAA,EACT;AAEO,sBAAqB,IAAI,WAAW,WAAW;AAEpD,UAAM,WAAW,GAAG,QAAS,IAAG,OAAO,CAAC;AAGxC,UAAM,kBAAkB,SAAS;AAEjC,QAAI,mBAAmB,WAAW;AAChC,sBAAgB,QAAQ;AAAA,IAC1B,OAAO;AAEL,YAAM,QAAQ,UAAU,MAAM,CAAC,EAAE,UAAU;AAC3C,UAAI,WAAW;AACb,cAAM,UAAU,cAAc,SAAS;AACvC,iBAAS,aAAa;AACtB,WAAG,iBAAiB,OAAO,OAAO;AAAA,MACpC,WAAW,iBAAiB;AAE1B,WAAG,oBAAoB,OAAO,eAAe;AAC7C,iBAAS,aAAa;AAAA,MACxB;AAAA,IACF;AAAA,EACF;;;AC7BO,sBAAqB,IAAI,UAAU,WAAW;AAEnD,UAAM,QAAQ,GAAG;AACjB,eAAW,OAAO,WAAW;AAC3B,YAAM,OAAO,UAAU;AAAA,IACzB;AACA,QAAI,UAAU;AACZ,iBAAW,OAAO,UAAU;AAC1B,YAAI,UAAU,SAAS,MAAM;AAC3B,gBAAM,OAAO;AAAA,QACf;AAAA,MACF;AAAA,IACF;AAAA,EACF;;;ACDO,MAAM,YAAY,CAAC,IAAI,KAAK,UAAU,cAAc;AACzD,QAAI,QAAQ,SAAS;AACnB,iBAAW,IAAI,SAAS;AAAA,IAC1B,WAAW,QAAQ,SAAS;AAC1B,iBAAW,IAAI,UAAU,SAAS;AAAA,IACpC,WAAW,WAAW,KAAK,GAAG,GAAG;AAC/B,iBAAW,IAAI,KAAK,SAAS;AAAA,IAC/B,OAAO;AAEL,gBAAU,IAAI,KAAK,SAAS;AAAA,IAC9B;AAAA,EACF;;;ACpBA,MAAM,gBAAgB,iBAAE,aAAc;AAEtC,UAAQ,IAAI,aAAa;",
  "names": []
}
